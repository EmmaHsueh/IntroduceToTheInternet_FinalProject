{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tone2\\\\OneDrive\\\\\\u6587\\u4EF6\\\\GitHub\\\\IntroduceToTheInternet_FinalProject\\\\src\\\\components\\\\PostForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\n\n// ------------------------------------\n// API & 配色定義\n// ------------------------------------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst REMOVE_BG_API_KEY = \"soM57AtY8CuHm8VhkYTyXxBP\";\nconst REMOVE_BG_API_URL = \"https://api.remove.bg/v1.0/removebg\";\nconst COLOR_DEEP_NAVY = '#1e2a38';\nconst COLOR_OLIVE_GREEN = '#454f3b';\nconst COLOR_MORANDI_BROWN = '#a38c6b';\nconst COLOR_BRICK_RED = '#c9362a';\nconst COLOR_SECONDARY_TEXT = '#666666';\nconst COLOR_BORDER = '#dddddd';\nconst COLOR_OFF_WHITE = '#f3f3e6';\nconst COLOR_HIGHLIGHT_LINE = COLOR_MORANDI_BROWN;\n\n// 樣式定義\nconst INPUT_STYLE = {\n  width: '100%',\n  padding: '12px',\n  boxSizing: 'border-box',\n  border: `1px solid ${COLOR_BORDER}`,\n  borderRadius: '6px',\n  outline: 'none',\n  transition: 'border-color 0.3s'\n};\nconst BUTTON_PRIMARY_STYLE = {\n  padding: '10px 25px',\n  backgroundColor: COLOR_BRICK_RED,\n  color: 'white',\n  border: 'none',\n  borderRadius: '6px',\n  cursor: 'pointer',\n  fontWeight: 'bold',\n  transition: 'background-color 0.3s'\n};\n\n// ------------------------------------\n// 輔助函式：Remove.bg API 呼叫\n// ------------------------------------\n/**\r\n * 使用 remove.bg API 移除圖片背景\r\n * @param {File} file - 輸入的圖像檔案\r\n * @returns {Promise<string>} 去背後的圖片 Blob URL\r\n */\nconst removeBgFromFile = async file => {\n  const formData = new FormData();\n  formData.append('image_file', file);\n  formData.append('size', 'auto');\n  const response = await fetch(REMOVE_BG_API_URL, {\n    method: 'POST',\n    headers: {\n      'X-Api-Key': REMOVE_BG_API_KEY\n    },\n    body: formData\n  });\n  if (!response.ok) {\n    var _errorData$errors, _errorData$errors$;\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(((_errorData$errors = errorData.errors) === null || _errorData$errors === void 0 ? void 0 : (_errorData$errors$ = _errorData$errors[0]) === null || _errorData$errors$ === void 0 ? void 0 : _errorData$errors$.title) || `HTTP ${response.status}: ${response.statusText}`);\n  }\n  const blob = await response.blob();\n  return URL.createObjectURL(blob);\n};\n\n/**\r\n * 將 Blob URL 轉換為 Base64（用於儲存到 localStorage）\r\n */\nconst blobUrlToBase64 = async blobUrl => {\n  const response = await fetch(blobUrl);\n  const blob = await response.blob();\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n};\nconst PostForm = ({\n  boardName,\n  onSubmit,\n  onCancel\n}) => {\n  _s();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [images, setImages] = useState([]);\n  const [globalMessage, setGlobalMessage] = useState('');\n\n  // ------------------------------------\n  // 圖片上傳處理\n  // ------------------------------------\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    if (files.length > 0) {\n      const newImages = files.map(file => ({\n        id: Date.now() + Math.random(),\n        file: file,\n        url: URL.createObjectURL(file),\n        isProcessing: false,\n        isProcessed: false\n      }));\n      setImages(prevImages => [...prevImages, ...newImages]);\n      e.target.value = null;\n    }\n  };\n\n  // ------------------------------------\n  // 圖片去背邏輯 (Remove.bg API Call)\n  // ------------------------------------\n  const handleRemoveBackground = useCallback(async targetImage => {\n    if (!targetImage.file) {\n      setGlobalMessage('錯誤：缺少圖片文件，無法進行去背。');\n      return;\n    }\n    setImages(prev => prev.map(img => img.id === targetImage.id ? {\n      ...img,\n      isProcessing: true\n    } : img));\n    setGlobalMessage('ℹ️ 正在使用 remove.bg 進行圖片去背處理...');\n    try {\n      const resultUrl = await removeBgFromFile(targetImage.file);\n      setImages(prev => prev.map(img => img.id === targetImage.id ? {\n        ...img,\n        url: resultUrl,\n        isProcessing: false,\n        isProcessed: true\n      } : img));\n      setGlobalMessage('✅ 圖片去背成功！');\n      if (targetImage.url.startsWith('blob:')) {\n        URL.revokeObjectURL(targetImage.url);\n      }\n    } catch (error) {\n      console.error('去背請求失敗:', error);\n      setGlobalMessage(`❌ 去背失敗：${error.message || '無法連接到服務。'}`);\n      setImages(prev => prev.map(img => img.id === targetImage.id ? {\n        ...img,\n        isProcessing: false\n      } : img));\n    }\n  }, []);\n\n  // ------------------------------------\n  // 移除圖片\n  // ------------------------------------\n  const handleRemoveImage = targetId => {\n    setImages(prevImages => {\n      const targetImage = prevImages.find(img => img.id === targetId);\n      if (targetImage && targetImage.url.startsWith('blob:')) {\n        URL.revokeObjectURL(targetImage.url);\n      }\n      return prevImages.filter(img => img.id !== targetId);\n    });\n  };\n\n  // ------------------------------------\n  // 送出處理（轉換為 Base64）\n  // ------------------------------------\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (title.trim() && content.trim()) {\n      try {\n        // 將所有 Blob URL 轉換為 Base64\n        const base64Images = await Promise.all(images.map(img => blobUrlToBase64(img.url)));\n        onSubmit(title, content, base64Images);\n        setTitle('');\n        setContent('');\n        setImages([]);\n        setGlobalMessage('');\n      } catch (error) {\n        console.error('圖片處理失敗:', error);\n        setGlobalMessage('❌ 圖片處理失敗，請重試');\n      }\n    } else {\n      setGlobalMessage('標題和內容都不能為空！');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: `1px solid ${COLOR_BORDER}`,\n      padding: '30px',\n      borderRadius: '10px',\n      backgroundColor: COLOR_OFF_WHITE,\n      maxWidth: '800px',\n      margin: '30px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: COLOR_DEEP_NAVY,\n        borderBottom: `2px solid ${COLOR_HIGHLIGHT_LINE}`,\n        paddingBottom: '15px',\n        marginBottom: '25px',\n        marginTop: '0',\n        fontWeight: '500'\n      },\n      children: [\"\\u767C\\u8868\\u65B0\\u8CBC\\u6587\\u5230 \\u3010\", boardName, \"\\u3011\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold',\n            color: COLOR_DEEP_NAVY\n          },\n          children: \"\\u6A19\\u984C\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          style: INPUT_STYLE,\n          placeholder: \"\\u8ACB\\u8F38\\u5165\\u8CBC\\u6587\\u6A19\\u984C\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px',\n          padding: '15px',\n          border: `1px dashed ${COLOR_BORDER}`,\n          borderRadius: '6px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold',\n            color: COLOR_DEEP_NAVY\n          },\n          children: \"\\u4E0A\\u50B3\\u5716\\u7247 (\\u53EF\\u591A\\u9078)\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          multiple: true,\n          onChange: handleImageChange,\n          style: {\n            marginBottom: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '15px',\n            marginTop: '15px'\n          },\n          children: images.map((image, index) => {\n            const isCurrentProcessing = image.isProcessing;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '120px',\n                border: `1px solid ${COLOR_BORDER}`,\n                borderRadius: '6px',\n                overflow: 'hidden',\n                position: 'relative',\n                boxShadow: image.isProcessed ? `0 0 0 2px ${COLOR_OLIVE_GREEN}` : 'none',\n                backgroundImage: 'repeating-conic-gradient(#f0f0f0 0% 25%, #ffffff 0% 50%)',\n                backgroundSize: '20px 20px',\n                backgroundColor: '#fff'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: image.url,\n                alt: `預覽圖 ${index + 1}`,\n                style: {\n                  width: '100%',\n                  height: '100px',\n                  objectFit: 'contain',\n                  display: 'block'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '8px',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '5px',\n                  backgroundColor: '#fff',\n                  borderTop: `1px solid ${COLOR_BORDER}`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleRemoveBackground(image),\n                  style: {\n                    padding: '5px 10px',\n                    backgroundColor: image.isProcessed ? COLOR_MORANDI_BROWN : COLOR_OLIVE_GREEN,\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '12px',\n                    opacity: isCurrentProcessing ? 0.7 : 1,\n                    pointerEvents: isCurrentProcessing ? 'none' : 'auto',\n                    transition: 'background-color 0.3s'\n                  },\n                  disabled: isCurrentProcessing,\n                  children: isCurrentProcessing ? '處理中...' : image.isProcessed ? '✅ 已去背' : '✂️ 去背'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleRemoveImage(image.id),\n                  style: {\n                    padding: '5px 10px',\n                    backgroundColor: COLOR_SECONDARY_TEXT,\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer',\n                    fontSize: '12px',\n                    transition: 'background-color 0.3s'\n                  },\n                  children: \"\\u79FB\\u9664\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this)]\n            }, image.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this), globalMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: globalMessage.startsWith('❌') ? COLOR_BRICK_RED : COLOR_OLIVE_GREEN,\n            fontSize: 'small',\n            marginTop: '15px'\n          },\n          children: globalMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold',\n            color: COLOR_DEEP_NAVY\n          },\n          children: \"\\u5167\\u5BB9\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: content,\n          onChange: e => setContent(e.target.value),\n          style: {\n            ...INPUT_STYLE,\n            height: '200px',\n            resize: 'vertical'\n          },\n          placeholder: \"\\u8ACB\\u8A73\\u7D30\\u63CF\\u8FF0\\u60A8\\u7684\\u8CBC\\u6587\\u5167\\u5BB9...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-end',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onCancel,\n          style: {\n            ...BUTTON_PRIMARY_STYLE,\n            backgroundColor: COLOR_OFF_WHITE,\n            color: COLOR_DEEP_NAVY\n          },\n          onMouseOver: e => e.currentTarget.style.backgroundColor = COLOR_BORDER,\n          onMouseOut: e => e.currentTarget.style.backgroundColor = COLOR_OFF_WHITE,\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: BUTTON_PRIMARY_STYLE,\n          onMouseOver: e => e.currentTarget.style.backgroundColor = COLOR_MORANDI_BROWN,\n          onMouseOut: e => e.currentTarget.style.backgroundColor = COLOR_BRICK_RED,\n          children: \"\\u9001\\u51FA\\u8CBC\\u6587\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 9\n  }, this);\n};\n_s(PostForm, \"CdrtEiOiZ/QONUS61jowuaV7FI0=\");\n_c = PostForm;\nexport default PostForm;\nvar _c;\n$RefreshReg$(_c, \"PostForm\");","map":{"version":3,"names":["React","useState","useCallback","jsxDEV","_jsxDEV","REMOVE_BG_API_KEY","REMOVE_BG_API_URL","COLOR_DEEP_NAVY","COLOR_OLIVE_GREEN","COLOR_MORANDI_BROWN","COLOR_BRICK_RED","COLOR_SECONDARY_TEXT","COLOR_BORDER","COLOR_OFF_WHITE","COLOR_HIGHLIGHT_LINE","INPUT_STYLE","width","padding","boxSizing","border","borderRadius","outline","transition","BUTTON_PRIMARY_STYLE","backgroundColor","color","cursor","fontWeight","removeBgFromFile","file","formData","FormData","append","response","fetch","method","headers","body","ok","_errorData$errors","_errorData$errors$","errorData","json","catch","Error","errors","title","status","statusText","blob","URL","createObjectURL","blobUrlToBase64","blobUrl","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","PostForm","boardName","onSubmit","onCancel","_s","setTitle","content","setContent","images","setImages","globalMessage","setGlobalMessage","handleImageChange","e","files","Array","from","target","length","newImages","map","id","Date","now","Math","random","url","isProcessing","isProcessed","prevImages","value","handleRemoveBackground","targetImage","prev","img","resultUrl","startsWith","revokeObjectURL","error","console","message","handleRemoveImage","targetId","find","filter","handleSubmit","preventDefault","trim","base64Images","all","style","maxWidth","margin","children","borderBottom","paddingBottom","marginBottom","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","display","type","onChange","placeholder","required","accept","multiple","flexWrap","gap","image","index","isCurrentProcessing","overflow","position","boxShadow","backgroundImage","backgroundSize","src","alt","height","objectFit","flexDirection","borderTop","onClick","fontSize","opacity","pointerEvents","disabled","resize","justifyContent","onMouseOver","currentTarget","onMouseOut","_c","$RefreshReg$"],"sources":["C:/Users/tone2/OneDrive/文件/GitHub/IntroduceToTheInternet_FinalProject/src/components/PostForm.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\n\r\n// ------------------------------------\r\n// API & 配色定義\r\n// ------------------------------------\r\nconst REMOVE_BG_API_KEY = \"soM57AtY8CuHm8VhkYTyXxBP\"; \r\nconst REMOVE_BG_API_URL = \"https://api.remove.bg/v1.0/removebg\";\r\n\r\nconst COLOR_DEEP_NAVY = '#1e2a38';     \r\nconst COLOR_OLIVE_GREEN = '#454f3b';   \r\nconst COLOR_MORANDI_BROWN = '#a38c6b'; \r\nconst COLOR_BRICK_RED = '#c9362a';     \r\nconst COLOR_SECONDARY_TEXT = '#666666'; \r\nconst COLOR_BORDER = '#dddddd';\r\nconst COLOR_OFF_WHITE = '#f3f3e6';     \r\nconst COLOR_HIGHLIGHT_LINE = COLOR_MORANDI_BROWN; \r\n\r\n// 樣式定義\r\nconst INPUT_STYLE = { \r\n    width: '100%', \r\n    padding: '12px', \r\n    boxSizing: 'border-box', \r\n    border: `1px solid ${COLOR_BORDER}`, \r\n    borderRadius: '6px', \r\n    outline: 'none',\r\n    transition: 'border-color 0.3s'\r\n};\r\nconst BUTTON_PRIMARY_STYLE = { \r\n    padding: '10px 25px', \r\n    backgroundColor: COLOR_BRICK_RED, \r\n    color: 'white', \r\n    border: 'none', \r\n    borderRadius: '6px', \r\n    cursor: 'pointer', \r\n    fontWeight: 'bold',\r\n    transition: 'background-color 0.3s'\r\n};\r\n\r\n// ------------------------------------\r\n// 輔助函式：Remove.bg API 呼叫\r\n// ------------------------------------\r\n/**\r\n * 使用 remove.bg API 移除圖片背景\r\n * @param {File} file - 輸入的圖像檔案\r\n * @returns {Promise<string>} 去背後的圖片 Blob URL\r\n */\r\nconst removeBgFromFile = async (file) => {\r\n    const formData = new FormData();\r\n    formData.append('image_file', file);\r\n    formData.append('size', 'auto');\r\n    \r\n    const response = await fetch(REMOVE_BG_API_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'X-Api-Key': REMOVE_BG_API_KEY,\r\n        },\r\n        body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.errors?.[0]?.title || `HTTP ${response.status}: ${response.statusText}`);\r\n    }\r\n\r\n    const blob = await response.blob();\r\n    return URL.createObjectURL(blob);\r\n};\r\n\r\n/**\r\n * 將 Blob URL 轉換為 Base64（用於儲存到 localStorage）\r\n */\r\nconst blobUrlToBase64 = async (blobUrl) => {\r\n    const response = await fetch(blobUrl);\r\n    const blob = await response.blob();\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => resolve(reader.result);\r\n        reader.onerror = reject;\r\n        reader.readAsDataURL(blob);\r\n    });\r\n};\r\n\r\nconst PostForm = ({ boardName, onSubmit, onCancel }) => {\r\n    const [title, setTitle] = useState('');\r\n    const [content, setContent] = useState('');\r\n    const [images, setImages] = useState([]); \r\n    const [globalMessage, setGlobalMessage] = useState('');\r\n\r\n    // ------------------------------------\r\n    // 圖片上傳處理\r\n    // ------------------------------------\r\n    const handleImageChange = (e) => {\r\n        const files = Array.from(e.target.files);\r\n        if (files.length > 0) {\r\n            const newImages = files.map(file => ({\r\n                id: Date.now() + Math.random(),\r\n                file: file,\r\n                url: URL.createObjectURL(file),\r\n                isProcessing: false,\r\n                isProcessed: false,\r\n            }));\r\n            setImages(prevImages => [...prevImages, ...newImages]); \r\n            e.target.value = null; \r\n        }\r\n    };\r\n\r\n    // ------------------------------------\r\n    // 圖片去背邏輯 (Remove.bg API Call)\r\n    // ------------------------------------\r\n    const handleRemoveBackground = useCallback(async (targetImage) => {\r\n        if (!targetImage.file) {\r\n            setGlobalMessage('錯誤：缺少圖片文件，無法進行去背。');\r\n            return;\r\n        }\r\n\r\n        setImages(prev => prev.map(img => \r\n            img.id === targetImage.id ? { ...img, isProcessing: true } : img\r\n        ));\r\n        setGlobalMessage('ℹ️ 正在使用 remove.bg 進行圖片去背處理...');\r\n\r\n        try {\r\n            const resultUrl = await removeBgFromFile(targetImage.file);\r\n            \r\n            setImages(prev => prev.map(img => \r\n                img.id === targetImage.id \r\n                    ? { \r\n                          ...img, \r\n                          url: resultUrl,\r\n                          isProcessing: false,\r\n                          isProcessed: true,\r\n                      } \r\n                    : img\r\n            ));\r\n            setGlobalMessage('✅ 圖片去背成功！');\r\n\r\n            if (targetImage.url.startsWith('blob:')) {\r\n                URL.revokeObjectURL(targetImage.url);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('去背請求失敗:', error);\r\n            setGlobalMessage(`❌ 去背失敗：${error.message || '無法連接到服務。'}`);\r\n            \r\n            setImages(prev => prev.map(img => \r\n                img.id === targetImage.id ? { ...img, isProcessing: false } : img\r\n            ));\r\n        }\r\n    }, []); \r\n\r\n    // ------------------------------------\r\n    // 移除圖片\r\n    // ------------------------------------\r\n    const handleRemoveImage = (targetId) => {\r\n        setImages(prevImages => {\r\n            const targetImage = prevImages.find(img => img.id === targetId);\r\n            if (targetImage && targetImage.url.startsWith('blob:')) {\r\n                URL.revokeObjectURL(targetImage.url);\r\n            }\r\n            return prevImages.filter(img => img.id !== targetId);\r\n        });\r\n    }\r\n\r\n    // ------------------------------------\r\n    // 送出處理（轉換為 Base64）\r\n    // ------------------------------------\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (title.trim() && content.trim()) {\r\n            try {\r\n                // 將所有 Blob URL 轉換為 Base64\r\n                const base64Images = await Promise.all(\r\n                    images.map(img => blobUrlToBase64(img.url))\r\n                );\r\n                \r\n                onSubmit(title, content, base64Images); \r\n                \r\n                setTitle('');\r\n                setContent('');\r\n                setImages([]);\r\n                setGlobalMessage('');\r\n            } catch (error) {\r\n                console.error('圖片處理失敗:', error);\r\n                setGlobalMessage('❌ 圖片處理失敗，請重試');\r\n            }\r\n        } else {\r\n            setGlobalMessage('標題和內容都不能為空！');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ border: `1px solid ${COLOR_BORDER}`, padding: '30px', borderRadius: '10px', backgroundColor: COLOR_OFF_WHITE, maxWidth: '800px', margin: '30px auto' }}>\r\n            <h2 style={{ color: COLOR_DEEP_NAVY, borderBottom: `2px solid ${COLOR_HIGHLIGHT_LINE}`, paddingBottom: '15px', marginBottom: '25px', marginTop: '0', fontWeight: '500' }}>\r\n                發表新貼文到 【{boardName}】\r\n            </h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold', color: COLOR_DEEP_NAVY }}>標題：</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={title}\r\n                        onChange={(e) => setTitle(e.target.value)}\r\n                        style={INPUT_STYLE}\r\n                        placeholder=\"請輸入貼文標題\"\r\n                        required\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '20px', padding: '15px', border: `1px dashed ${COLOR_BORDER}`, borderRadius: '6px' }}>\r\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold', color: COLOR_DEEP_NAVY }}>上傳圖片 (可多選)：</label>\r\n                    <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        multiple \r\n                        onChange={handleImageChange}\r\n                        style={{ marginBottom: '10px' }}\r\n                    />\r\n                    \r\n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '15px', marginTop: '15px' }}>\r\n                        {images.map((image, index) => {\r\n                            const isCurrentProcessing = image.isProcessing;\r\n                            return (\r\n                                <div key={image.id} style={{ \r\n                                    width: '120px', \r\n                                    border: `1px solid ${COLOR_BORDER}`, \r\n                                    borderRadius: '6px', \r\n                                    overflow: 'hidden', \r\n                                    position: 'relative', \r\n                                    boxShadow: image.isProcessed ? `0 0 0 2px ${COLOR_OLIVE_GREEN}` : 'none',\r\n                                    backgroundImage: 'repeating-conic-gradient(#f0f0f0 0% 25%, #ffffff 0% 50%)',\r\n                                    backgroundSize: '20px 20px',\r\n                                    backgroundColor: '#fff'\r\n                                }}>\r\n                                    <img \r\n                                        src={image.url}\r\n                                        alt={`預覽圖 ${index + 1}`} \r\n                                        style={{ width: '100%', height: '100px', objectFit: 'contain', display: 'block' }}\r\n                                    />\r\n                                    <div style={{ padding: '8px', display: 'flex', flexDirection: 'column', gap: '5px', backgroundColor: '#fff', borderTop: `1px solid ${COLOR_BORDER}` }}>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => handleRemoveBackground(image)}\r\n                                            style={{\r\n                                                padding: '5px 10px',\r\n                                                backgroundColor: image.isProcessed ? COLOR_MORANDI_BROWN : COLOR_OLIVE_GREEN,\r\n                                                color: 'white',\r\n                                                border: 'none',\r\n                                                borderRadius: '4px',\r\n                                                cursor: 'pointer',\r\n                                                fontSize: '12px',\r\n                                                opacity: isCurrentProcessing ? 0.7 : 1,\r\n                                                pointerEvents: isCurrentProcessing ? 'none' : 'auto',\r\n                                                transition: 'background-color 0.3s'\r\n                                            }}\r\n                                            disabled={isCurrentProcessing}\r\n                                        >\r\n                                            {isCurrentProcessing ? '處理中...' : (image.isProcessed ? '✅ 已去背' : '✂️ 去背')}\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => handleRemoveImage(image.id)}\r\n                                            style={{\r\n                                                padding: '5px 10px',\r\n                                                backgroundColor: COLOR_SECONDARY_TEXT,\r\n                                                color: 'white',\r\n                                                border: 'none',\r\n                                                borderRadius: '4px',\r\n                                                cursor: 'pointer',\r\n                                                fontSize: '12px',\r\n                                                transition: 'background-color 0.3s'\r\n                                            }}\r\n                                        >\r\n                                            移除\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    {globalMessage && \r\n                        <p style={{ color: globalMessage.startsWith('❌') ? COLOR_BRICK_RED : COLOR_OLIVE_GREEN, fontSize: 'small', marginTop: '15px' }}>\r\n                            {globalMessage}\r\n                        </p>\r\n                    }\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '30px' }}>\r\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold', color: COLOR_DEEP_NAVY }}>內容：</label>\r\n                    <textarea\r\n                        value={content}\r\n                        onChange={(e) => setContent(e.target.value)}\r\n                        style={{ ...INPUT_STYLE, height: '200px', resize: 'vertical' }}\r\n                        placeholder=\"請詳細描述您的貼文內容...\"\r\n                        required\r\n                    />\r\n                </div>\r\n                \r\n                <div style={{ display: 'flex', justifyContent: 'flex-end', gap: '15px' }}>\r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={onCancel} \r\n                        style={{...BUTTON_PRIMARY_STYLE, backgroundColor: COLOR_OFF_WHITE, color: COLOR_DEEP_NAVY}} \r\n                        onMouseOver={e => e.currentTarget.style.backgroundColor = COLOR_BORDER} \r\n                        onMouseOut={e => e.currentTarget.style.backgroundColor = COLOR_OFF_WHITE}\r\n                    >\r\n                        取消\r\n                    </button>\r\n                    <button \r\n                        type=\"submit\" \r\n                        style={BUTTON_PRIMARY_STYLE}\r\n                        onMouseOver={e => e.currentTarget.style.backgroundColor = COLOR_MORANDI_BROWN} \r\n                        onMouseOut={e => e.currentTarget.style.backgroundColor = COLOR_BRICK_RED}\r\n                    >\r\n                        送出貼文\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PostForm;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;;AAEpD;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,iBAAiB,GAAG,0BAA0B;AACpD,MAAMC,iBAAiB,GAAG,qCAAqC;AAE/D,MAAMC,eAAe,GAAG,SAAS;AACjC,MAAMC,iBAAiB,GAAG,SAAS;AACnC,MAAMC,mBAAmB,GAAG,SAAS;AACrC,MAAMC,eAAe,GAAG,SAAS;AACjC,MAAMC,oBAAoB,GAAG,SAAS;AACtC,MAAMC,YAAY,GAAG,SAAS;AAC9B,MAAMC,eAAe,GAAG,SAAS;AACjC,MAAMC,oBAAoB,GAAGL,mBAAmB;;AAEhD;AACA,MAAMM,WAAW,GAAG;EAChBC,KAAK,EAAE,MAAM;EACbC,OAAO,EAAE,MAAM;EACfC,SAAS,EAAE,YAAY;EACvBC,MAAM,EAAE,aAAaP,YAAY,EAAE;EACnCQ,YAAY,EAAE,KAAK;EACnBC,OAAO,EAAE,MAAM;EACfC,UAAU,EAAE;AAChB,CAAC;AACD,MAAMC,oBAAoB,GAAG;EACzBN,OAAO,EAAE,WAAW;EACpBO,eAAe,EAAEd,eAAe;EAChCe,KAAK,EAAE,OAAO;EACdN,MAAM,EAAE,MAAM;EACdC,YAAY,EAAE,KAAK;EACnBM,MAAM,EAAE,SAAS;EACjBC,UAAU,EAAE,MAAM;EAClBL,UAAU,EAAE;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMM,gBAAgB,GAAG,MAAOC,IAAI,IAAK;EACrC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEH,IAAI,CAAC;EACnCC,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC;EAE/B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC5B,iBAAiB,EAAE;IAC5C6B,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,WAAW,EAAE/B;IACjB,CAAC;IACDgC,IAAI,EAAEP;EACV,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACK,EAAE,EAAE;IAAA,IAAAC,iBAAA,EAAAC,kBAAA;IACd,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACzD,MAAM,IAAIC,KAAK,CAAC,EAAAL,iBAAA,GAAAE,SAAS,CAACI,MAAM,cAAAN,iBAAA,wBAAAC,kBAAA,GAAhBD,iBAAA,CAAmB,CAAC,CAAC,cAAAC,kBAAA,uBAArBA,kBAAA,CAAuBM,KAAK,KAAI,QAAQb,QAAQ,CAACc,MAAM,KAAKd,QAAQ,CAACe,UAAU,EAAE,CAAC;EACtG;EAEA,MAAMC,IAAI,GAAG,MAAMhB,QAAQ,CAACgB,IAAI,CAAC,CAAC;EAClC,OAAOC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC;AACpC,CAAC;;AAED;AACA;AACA;AACA,MAAMG,eAAe,GAAG,MAAOC,OAAO,IAAK;EACvC,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CAACmB,OAAO,CAAC;EACrC,MAAMJ,IAAI,GAAG,MAAMhB,QAAQ,CAACgB,IAAI,CAAC,CAAC;EAClC,OAAO,IAAIK,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpC,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;IAC/BD,MAAM,CAACE,SAAS,GAAG,MAAMJ,OAAO,CAACE,MAAM,CAACG,MAAM,CAAC;IAC/CH,MAAM,CAACI,OAAO,GAAGL,MAAM;IACvBC,MAAM,CAACK,aAAa,CAACb,IAAI,CAAC;EAC9B,CAAC,CAAC;AACN,CAAC;AAED,MAAMc,QAAQ,GAAGA,CAAC;EAAEC,SAAS;EAAEC,QAAQ;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACpD,MAAM,CAACrB,KAAK,EAAEsB,QAAQ,CAAC,GAAGnE,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoE,OAAO,EAAEC,UAAU,CAAC,GAAGrE,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsE,MAAM,EAAEC,SAAS,CAAC,GAAGvE,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACwE,aAAa,EAAEC,gBAAgB,CAAC,GAAGzE,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACA;EACA;EACA,MAAM0E,iBAAiB,GAAIC,CAAC,IAAK;IAC7B,MAAMC,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACH,CAAC,CAACI,MAAM,CAACH,KAAK,CAAC;IACxC,IAAIA,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;MAClB,MAAMC,SAAS,GAAGL,KAAK,CAACM,GAAG,CAACtD,IAAI,KAAK;QACjCuD,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC;QAC9B3D,IAAI,EAAEA,IAAI;QACV4D,GAAG,EAAEvC,GAAG,CAACC,eAAe,CAACtB,IAAI,CAAC;QAC9B6D,YAAY,EAAE,KAAK;QACnBC,WAAW,EAAE;MACjB,CAAC,CAAC,CAAC;MACHnB,SAAS,CAACoB,UAAU,IAAI,CAAC,GAAGA,UAAU,EAAE,GAAGV,SAAS,CAAC,CAAC;MACtDN,CAAC,CAACI,MAAM,CAACa,KAAK,GAAG,IAAI;IACzB;EACJ,CAAC;;EAED;EACA;EACA;EACA,MAAMC,sBAAsB,GAAG5F,WAAW,CAAC,MAAO6F,WAAW,IAAK;IAC9D,IAAI,CAACA,WAAW,CAAClE,IAAI,EAAE;MACnB6C,gBAAgB,CAAC,mBAAmB,CAAC;MACrC;IACJ;IAEAF,SAAS,CAACwB,IAAI,IAAIA,IAAI,CAACb,GAAG,CAACc,GAAG,IAC1BA,GAAG,CAACb,EAAE,KAAKW,WAAW,CAACX,EAAE,GAAG;MAAE,GAAGa,GAAG;MAAEP,YAAY,EAAE;IAAK,CAAC,GAAGO,GACjE,CAAC,CAAC;IACFvB,gBAAgB,CAAC,+BAA+B,CAAC;IAEjD,IAAI;MACA,MAAMwB,SAAS,GAAG,MAAMtE,gBAAgB,CAACmE,WAAW,CAAClE,IAAI,CAAC;MAE1D2C,SAAS,CAACwB,IAAI,IAAIA,IAAI,CAACb,GAAG,CAACc,GAAG,IAC1BA,GAAG,CAACb,EAAE,KAAKW,WAAW,CAACX,EAAE,GACnB;QACI,GAAGa,GAAG;QACNR,GAAG,EAAES,SAAS;QACdR,YAAY,EAAE,KAAK;QACnBC,WAAW,EAAE;MACjB,CAAC,GACDM,GACV,CAAC,CAAC;MACFvB,gBAAgB,CAAC,WAAW,CAAC;MAE7B,IAAIqB,WAAW,CAACN,GAAG,CAACU,UAAU,CAAC,OAAO,CAAC,EAAE;QACrCjD,GAAG,CAACkD,eAAe,CAACL,WAAW,CAACN,GAAG,CAAC;MACxC;IAEJ,CAAC,CAAC,OAAOY,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MAC/B3B,gBAAgB,CAAC,UAAU2B,KAAK,CAACE,OAAO,IAAI,UAAU,EAAE,CAAC;MAEzD/B,SAAS,CAACwB,IAAI,IAAIA,IAAI,CAACb,GAAG,CAACc,GAAG,IAC1BA,GAAG,CAACb,EAAE,KAAKW,WAAW,CAACX,EAAE,GAAG;QAAE,GAAGa,GAAG;QAAEP,YAAY,EAAE;MAAM,CAAC,GAAGO,GAClE,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA;EACA;EACA,MAAMO,iBAAiB,GAAIC,QAAQ,IAAK;IACpCjC,SAAS,CAACoB,UAAU,IAAI;MACpB,MAAMG,WAAW,GAAGH,UAAU,CAACc,IAAI,CAACT,GAAG,IAAIA,GAAG,CAACb,EAAE,KAAKqB,QAAQ,CAAC;MAC/D,IAAIV,WAAW,IAAIA,WAAW,CAACN,GAAG,CAACU,UAAU,CAAC,OAAO,CAAC,EAAE;QACpDjD,GAAG,CAACkD,eAAe,CAACL,WAAW,CAACN,GAAG,CAAC;MACxC;MACA,OAAOG,UAAU,CAACe,MAAM,CAACV,GAAG,IAAIA,GAAG,CAACb,EAAE,KAAKqB,QAAQ,CAAC;IACxD,CAAC,CAAC;EACN,CAAC;;EAED;EACA;EACA;EACA,MAAMG,YAAY,GAAG,MAAOhC,CAAC,IAAK;IAC9BA,CAAC,CAACiC,cAAc,CAAC,CAAC;IAClB,IAAI/D,KAAK,CAACgE,IAAI,CAAC,CAAC,IAAIzC,OAAO,CAACyC,IAAI,CAAC,CAAC,EAAE;MAChC,IAAI;QACA;QACA,MAAMC,YAAY,GAAG,MAAMzD,OAAO,CAAC0D,GAAG,CAClCzC,MAAM,CAACY,GAAG,CAACc,GAAG,IAAI7C,eAAe,CAAC6C,GAAG,CAACR,GAAG,CAAC,CAC9C,CAAC;QAEDxB,QAAQ,CAACnB,KAAK,EAAEuB,OAAO,EAAE0C,YAAY,CAAC;QAEtC3C,QAAQ,CAAC,EAAE,CAAC;QACZE,UAAU,CAAC,EAAE,CAAC;QACdE,SAAS,CAAC,EAAE,CAAC;QACbE,gBAAgB,CAAC,EAAE,CAAC;MACxB,CAAC,CAAC,OAAO2B,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;QAC/B3B,gBAAgB,CAAC,cAAc,CAAC;MACpC;IACJ,CAAC,MAAM;MACHA,gBAAgB,CAAC,aAAa,CAAC;IACnC;EACJ,CAAC;EAED,oBACItE,OAAA;IAAK6G,KAAK,EAAE;MAAE9F,MAAM,EAAE,aAAaP,YAAY,EAAE;MAAEK,OAAO,EAAE,MAAM;MAAEG,YAAY,EAAE,MAAM;MAAEI,eAAe,EAAEX,eAAe;MAAEqG,QAAQ,EAAE,OAAO;MAAEC,MAAM,EAAE;IAAY,CAAE;IAAAC,QAAA,gBACjKhH,OAAA;MAAI6G,KAAK,EAAE;QAAExF,KAAK,EAAElB,eAAe;QAAE8G,YAAY,EAAE,aAAavG,oBAAoB,EAAE;QAAEwG,aAAa,EAAE,MAAM;QAAEC,YAAY,EAAE,MAAM;QAAEC,SAAS,EAAE,GAAG;QAAE7F,UAAU,EAAE;MAAM,CAAE;MAAAyF,QAAA,GAAC,6CAC9J,EAACpD,SAAS,EAAC,QACvB;IAAA;MAAAyD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACLxH,OAAA;MAAM6D,QAAQ,EAAE2C,YAAa;MAAAQ,QAAA,gBACzBhH,OAAA;QAAK6G,KAAK,EAAE;UAAEM,YAAY,EAAE;QAAO,CAAE;QAAAH,QAAA,gBACjChH,OAAA;UAAO6G,KAAK,EAAE;YAAEY,OAAO,EAAE,OAAO;YAAEN,YAAY,EAAE,KAAK;YAAE5F,UAAU,EAAE,MAAM;YAAEF,KAAK,EAAElB;UAAgB,CAAE;UAAA6G,QAAA,EAAC;QAAG;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChHxH,OAAA;UACI0H,IAAI,EAAC,MAAM;UACXjC,KAAK,EAAE/C,KAAM;UACbiF,QAAQ,EAAGnD,CAAC,IAAKR,QAAQ,CAACQ,CAAC,CAACI,MAAM,CAACa,KAAK,CAAE;UAC1CoB,KAAK,EAAElG,WAAY;UACnBiH,WAAW,EAAC,4CAAS;UACrBC,QAAQ;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAENxH,OAAA;QAAK6G,KAAK,EAAE;UAAEM,YAAY,EAAE,MAAM;UAAEtG,OAAO,EAAE,MAAM;UAAEE,MAAM,EAAE,cAAcP,YAAY,EAAE;UAAEQ,YAAY,EAAE;QAAM,CAAE;QAAAgG,QAAA,gBAC7GhH,OAAA;UAAO6G,KAAK,EAAE;YAAEY,OAAO,EAAE,OAAO;YAAEN,YAAY,EAAE,KAAK;YAAE5F,UAAU,EAAE,MAAM;YAAEF,KAAK,EAAElB;UAAgB,CAAE;UAAA6G,QAAA,EAAC;QAAW;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxHxH,OAAA;UACI0H,IAAI,EAAC,MAAM;UACXI,MAAM,EAAC,SAAS;UAChBC,QAAQ;UACRJ,QAAQ,EAAEpD,iBAAkB;UAC5BsC,KAAK,EAAE;YAAEM,YAAY,EAAE;UAAO;QAAE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CAAC,eAEFxH,OAAA;UAAK6G,KAAK,EAAE;YAAEY,OAAO,EAAE,MAAM;YAAEO,QAAQ,EAAE,MAAM;YAAEC,GAAG,EAAE,MAAM;YAAEb,SAAS,EAAE;UAAO,CAAE;UAAAJ,QAAA,EAC7E7C,MAAM,CAACY,GAAG,CAAC,CAACmD,KAAK,EAAEC,KAAK,KAAK;YAC1B,MAAMC,mBAAmB,GAAGF,KAAK,CAAC5C,YAAY;YAC9C,oBACItF,OAAA;cAAoB6G,KAAK,EAAE;gBACvBjG,KAAK,EAAE,OAAO;gBACdG,MAAM,EAAE,aAAaP,YAAY,EAAE;gBACnCQ,YAAY,EAAE,KAAK;gBACnBqH,QAAQ,EAAE,QAAQ;gBAClBC,QAAQ,EAAE,UAAU;gBACpBC,SAAS,EAAEL,KAAK,CAAC3C,WAAW,GAAG,aAAanF,iBAAiB,EAAE,GAAG,MAAM;gBACxEoI,eAAe,EAAE,0DAA0D;gBAC3EC,cAAc,EAAE,WAAW;gBAC3BrH,eAAe,EAAE;cACrB,CAAE;cAAA4F,QAAA,gBACEhH,OAAA;gBACI0I,GAAG,EAAER,KAAK,CAAC7C,GAAI;gBACfsD,GAAG,EAAE,OAAOR,KAAK,GAAG,CAAC,EAAG;gBACxBtB,KAAK,EAAE;kBAAEjG,KAAK,EAAE,MAAM;kBAAEgI,MAAM,EAAE,OAAO;kBAAEC,SAAS,EAAE,SAAS;kBAAEpB,OAAO,EAAE;gBAAQ;cAAE;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrF,CAAC,eACFxH,OAAA;gBAAK6G,KAAK,EAAE;kBAAEhG,OAAO,EAAE,KAAK;kBAAE4G,OAAO,EAAE,MAAM;kBAAEqB,aAAa,EAAE,QAAQ;kBAAEb,GAAG,EAAE,KAAK;kBAAE7G,eAAe,EAAE,MAAM;kBAAE2H,SAAS,EAAE,aAAavI,YAAY;gBAAG,CAAE;gBAAAwG,QAAA,gBAClJhH,OAAA;kBACI0H,IAAI,EAAC,QAAQ;kBACbsB,OAAO,EAAEA,CAAA,KAAMtD,sBAAsB,CAACwC,KAAK,CAAE;kBAC7CrB,KAAK,EAAE;oBACHhG,OAAO,EAAE,UAAU;oBACnBO,eAAe,EAAE8G,KAAK,CAAC3C,WAAW,GAAGlF,mBAAmB,GAAGD,iBAAiB;oBAC5EiB,KAAK,EAAE,OAAO;oBACdN,MAAM,EAAE,MAAM;oBACdC,YAAY,EAAE,KAAK;oBACnBM,MAAM,EAAE,SAAS;oBACjB2H,QAAQ,EAAE,MAAM;oBAChBC,OAAO,EAAEd,mBAAmB,GAAG,GAAG,GAAG,CAAC;oBACtCe,aAAa,EAAEf,mBAAmB,GAAG,MAAM,GAAG,MAAM;oBACpDlH,UAAU,EAAE;kBAChB,CAAE;kBACFkI,QAAQ,EAAEhB,mBAAoB;kBAAApB,QAAA,EAE7BoB,mBAAmB,GAAG,QAAQ,GAAIF,KAAK,CAAC3C,WAAW,GAAG,OAAO,GAAG;gBAAQ;kBAAA8B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACrE,CAAC,eACTxH,OAAA;kBACI0H,IAAI,EAAC,QAAQ;kBACbsB,OAAO,EAAEA,CAAA,KAAM5C,iBAAiB,CAAC8B,KAAK,CAAClD,EAAE,CAAE;kBAC3C6B,KAAK,EAAE;oBACHhG,OAAO,EAAE,UAAU;oBACnBO,eAAe,EAAEb,oBAAoB;oBACrCc,KAAK,EAAE,OAAO;oBACdN,MAAM,EAAE,MAAM;oBACdC,YAAY,EAAE,KAAK;oBACnBM,MAAM,EAAE,SAAS;oBACjB2H,QAAQ,EAAE,MAAM;oBAChB/H,UAAU,EAAE;kBAChB,CAAE;kBAAA8F,QAAA,EACL;gBAED;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACR,CAAC;YAAA,GApDAU,KAAK,CAAClD,EAAE;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAqDb,CAAC;UAEd,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,EACLnD,aAAa,iBACVrE,OAAA;UAAG6G,KAAK,EAAE;YAAExF,KAAK,EAAEgD,aAAa,CAAC0B,UAAU,CAAC,GAAG,CAAC,GAAGzF,eAAe,GAAGF,iBAAiB;YAAE6I,QAAQ,EAAE,OAAO;YAAE7B,SAAS,EAAE;UAAO,CAAE;UAAAJ,QAAA,EAC1H3C;QAAa;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEP,CAAC,eAENxH,OAAA;QAAK6G,KAAK,EAAE;UAAEM,YAAY,EAAE;QAAO,CAAE;QAAAH,QAAA,gBACjChH,OAAA;UAAO6G,KAAK,EAAE;YAAEY,OAAO,EAAE,OAAO;YAAEN,YAAY,EAAE,KAAK;YAAE5F,UAAU,EAAE,MAAM;YAAEF,KAAK,EAAElB;UAAgB,CAAE;UAAA6G,QAAA,EAAC;QAAG;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChHxH,OAAA;UACIyF,KAAK,EAAExB,OAAQ;UACf0D,QAAQ,EAAGnD,CAAC,IAAKN,UAAU,CAACM,CAAC,CAACI,MAAM,CAACa,KAAK,CAAE;UAC5CoB,KAAK,EAAE;YAAE,GAAGlG,WAAW;YAAEiI,MAAM,EAAE,OAAO;YAAES,MAAM,EAAE;UAAW,CAAE;UAC/DzB,WAAW,EAAC,uEAAgB;UAC5BC,QAAQ;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAENxH,OAAA;QAAK6G,KAAK,EAAE;UAAEY,OAAO,EAAE,MAAM;UAAE6B,cAAc,EAAE,UAAU;UAAErB,GAAG,EAAE;QAAO,CAAE;QAAAjB,QAAA,gBACrEhH,OAAA;UACI0H,IAAI,EAAC,QAAQ;UACbsB,OAAO,EAAElF,QAAS;UAClB+C,KAAK,EAAE;YAAC,GAAG1F,oBAAoB;YAAEC,eAAe,EAAEX,eAAe;YAAEY,KAAK,EAAElB;UAAe,CAAE;UAC3FoJ,WAAW,EAAE/E,CAAC,IAAIA,CAAC,CAACgF,aAAa,CAAC3C,KAAK,CAACzF,eAAe,GAAGZ,YAAa;UACvEiJ,UAAU,EAAEjF,CAAC,IAAIA,CAAC,CAACgF,aAAa,CAAC3C,KAAK,CAACzF,eAAe,GAAGX,eAAgB;UAAAuG,QAAA,EAC5E;QAED;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTxH,OAAA;UACI0H,IAAI,EAAC,QAAQ;UACbb,KAAK,EAAE1F,oBAAqB;UAC5BoI,WAAW,EAAE/E,CAAC,IAAIA,CAAC,CAACgF,aAAa,CAAC3C,KAAK,CAACzF,eAAe,GAAGf,mBAAoB;UAC9EoJ,UAAU,EAAEjF,CAAC,IAAIA,CAAC,CAACgF,aAAa,CAAC3C,KAAK,CAACzF,eAAe,GAAGd,eAAgB;UAAA0G,QAAA,EAC5E;QAED;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEd,CAAC;AAACzD,EAAA,CA5OIJ,QAAQ;AAAA+F,EAAA,GAAR/F,QAAQ;AA8Od,eAAeA,QAAQ;AAAC,IAAA+F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}