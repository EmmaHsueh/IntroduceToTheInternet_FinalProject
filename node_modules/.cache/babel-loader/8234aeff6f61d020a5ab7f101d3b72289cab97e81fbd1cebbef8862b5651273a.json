{"ast":null,"code":"var _jsxFileName = \"/Users/xueyulan/Desktop/IntroduceToTheInternet_FinalProject/src/components/PostForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\n\n// ------------------------------------\n// API & ÈÖçËâ≤ÂÆöÁæ©\n// ------------------------------------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst REMOVE_BG_API_KEY = \"soM57AtY8CuHm8VhkYTyXxBP\";\nconst REMOVE_BG_API_URL = \"https://api.remove.bg/v1.0/removebg\";\n\n// ÂæåÁ´Ø API Âú∞ÂùÄ\nconst MODERATION_API_URL = \"http://localhost:3001/moderation\";\nconst COLOR_DEEP_NAVY = '#1e2a38';\nconst COLOR_OLIVE_GREEN = '#454f3b';\nconst COLOR_MORANDI_BROWN = '#a38c6b';\nconst COLOR_BRICK_RED = '#c9362a';\nconst COLOR_SECONDARY_TEXT = '#666666';\nconst COLOR_BORDER = '#dddddd';\nconst COLOR_OFF_WHITE = '#f3f3e6';\nconst COLOR_HIGHLIGHT_LINE = COLOR_MORANDI_BROWN;\n\n// Ê®£ÂºèÂÆöÁæ©\nconst INPUT_STYLE = {\n  width: '100%',\n  padding: '12px',\n  boxSizing: 'border-box',\n  border: `1px solid ${COLOR_BORDER}`,\n  borderRadius: '6px',\n  outline: 'none',\n  transition: 'border-color 0.3s'\n};\nconst BUTTON_PRIMARY_STYLE = {\n  padding: '10px 25px',\n  backgroundColor: COLOR_BRICK_RED,\n  color: 'white',\n  border: 'none',\n  borderRadius: '6px',\n  cursor: 'pointer',\n  fontWeight: 'bold',\n  transition: 'background-color 0.3s',\n  whiteSpace: 'nowrap' // Èò≤Ê≠¢ÊåâÈàïÊñáÂ≠óÊèõË°å\n};\n\n// ------------------------------------\n// ËºîÂä©ÂáΩÂºèÂçÄ\n// ------------------------------------\nconst removeBgFromFile = async file => {\n  const formData = new FormData();\n  formData.append('image_file', file);\n  formData.append('size', 'auto');\n  const response = await fetch(REMOVE_BG_API_URL, {\n    method: 'POST',\n    headers: {\n      'X-Api-Key': REMOVE_BG_API_KEY\n    },\n    body: formData\n  });\n  if (!response.ok) {\n    var _errorData$errors, _errorData$errors$;\n    const errorData = await response.json().catch(() => ({}));\n    throw new Error(((_errorData$errors = errorData.errors) === null || _errorData$errors === void 0 ? void 0 : (_errorData$errors$ = _errorData$errors[0]) === null || _errorData$errors$ === void 0 ? void 0 : _errorData$errors$.title) || `HTTP ${response.status}`);\n  }\n  const blob = await response.blob();\n  return URL.createObjectURL(blob);\n};\nconst blobUrlToBase64 = async blobUrl => {\n  const response = await fetch(blobUrl);\n  const blob = await response.blob();\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n};\nconst PostForm = ({\n  boardName,\n  onSubmit,\n  onCancel\n}) => {\n  _s();\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [images, setImages] = useState([]);\n\n  // ÊãÜÂàÜË®äÊÅØÁãÄÊÖã\n  const [globalMessage, setGlobalMessage] = useState(''); // Áî®ÊñºÂ∫ïÈÉ® (ÂØ©Êü•ÁµêÊûú)\n  const [imageMessage, setImageMessage] = useState(''); // Áî®ÊñºÂúñÁâáÂçÄ (ÂéªËÉåÁãÄÊÖã)\n\n  // ------------------------------------\n  // ÂúñÁâáËôïÁêÜ\n  // ------------------------------------\n  const handleImageChange = e => {\n    const files = Array.from(e.target.files);\n    if (files.length > 0) {\n      const newImages = files.map(file => ({\n        id: Date.now() + Math.random(),\n        file: file,\n        url: URL.createObjectURL(file),\n        isProcessing: false,\n        isProcessed: false\n      }));\n      setImages(prev => [...prev, ...newImages]);\n      setImageMessage(''); // Ê∏ÖÈô§‰πãÂâçÁöÑÂúñÁâáË®äÊÅØ\n      e.target.value = null;\n    }\n  };\n  const handleRemoveBackground = useCallback(async targetImage => {\n    setImages(prev => prev.map(img => img.id === targetImage.id ? {\n      ...img,\n      isProcessing: true\n    } : img));\n    // ‰ΩøÁî® imageMessage È°ØÁ§∫ÁãÄÊÖã\n    setImageMessage('‚ÑπÔ∏è Ê≠£Âú®ËôïÁêÜÂúñÁâáÂéªËÉå...');\n    try {\n      const resultUrl = await removeBgFromFile(targetImage.file);\n      setImages(prev => prev.map(img => img.id === targetImage.id ? {\n        ...img,\n        url: resultUrl,\n        isProcessing: false,\n        isProcessed: true\n      } : img));\n      setImageMessage('‚úÖ ÂúñÁâáÂéªËÉåÊàêÂäüÔºÅ');\n    } catch (error) {\n      console.error('ÂéªËÉåÂ§±Êïó:', error);\n      setImageMessage(`‚ùå ÂéªËÉåÂ§±ÊïóÔºö${error.message}`);\n      setImages(prev => prev.map(img => img.id === targetImage.id ? {\n        ...img,\n        isProcessing: false\n      } : img));\n    }\n  }, []);\n  const handleRemoveImage = targetId => {\n    setImages(prev => prev.filter(img => img.id !== targetId));\n  };\n\n  // ------------------------------------\n  // ÈÄÅÂá∫ËôïÁêÜ (üî• Êö´ÊôÇÂÅúÁî® AI ÂØ©Êü•ÔºåÂÖàÊ∏¨Ë©¶ Firestore)\n  // ------------------------------------\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!title.trim() || !content.trim()) {\n      setGlobalMessage('‚ö†Ô∏è Ê®ôÈ°åÂíåÂÖßÂÆπÈÉΩ‰∏çËÉΩÁÇ∫Á©∫ÔºÅ');\n      return;\n    }\n\n    // üî• Êö´ÊôÇË®ªËß£ÊéâÂØ©Êü•ÂäüËÉΩÔºåÂÖàËÆì Firestore Êï¥ÂêàË∑ëËµ∑‰æÜ\n    // setGlobalMessage('ü§ñ Ê≠£Âú®ÈÄ≤Ë°å AI ÂÖßÂÆπÂØ©Êü•...');\n\n    try {\n      // ‚ö†Ô∏è ‰ª•‰∏ãÂØ©Êü•ÂäüËÉΩÊö´ÊôÇÂÅúÁî®\n      /*\n      // 1. ÂëºÂè´ÂæåÁ´Ø Moderation API\n      const textCheckResponse = await fetch(MODERATION_API_URL, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ content: `${title}\\n${content}` })\n      });\n       if (!textCheckResponse.ok) {\n          throw new Error('ÁÑ°Ê≥ïÈÄ£Êé•Âà∞ÂØ©Êü•‰º∫ÊúçÂô®');\n      }\n       const checkResult = await textCheckResponse.json();\n       // 2. Âà§Êñ∑ÂØ©Êü•ÁµêÊûú\n      if (checkResult.flagged) {\n          const reasons = Object.keys(checkResult.categories)\n              .filter(key => checkResult.categories[key])\n              .join(', ');\n           setGlobalMessage(`‚ùå ÂÖßÂÆπÂåÖÂê´ÊïèÊÑüË©ûÂΩôÔºåÁÑ°Ê≥ïÁôºÂ∏É„ÄÇ\\n(ÂÅµÊ∏¨ÂéüÂõ†: ${reasons})`);\n          return; // ‚õîÔ∏è Êìã‰Ωè\n      }\n      */\n\n      // üî• Áõ¥Êé•ËôïÁêÜÂúñÁâá‰∏¶ÈÄÅÂá∫ÔºàË∑≥ÈÅéÂØ©Êü•Ôºâ\n      setGlobalMessage('‚úÖ Ê≠£Âú®ÁôºÂ∏ÉË≤ºÊñá...');\n      const base64Images = await Promise.all(images.map(img => blobUrlToBase64(img.url)));\n      onSubmit(title, content, base64Images);\n\n      // ÈáçÁΩÆ\n      setTitle('');\n      setContent('');\n      setImages([]);\n      setGlobalMessage('');\n      setImageMessage('');\n    } catch (error) {\n      console.error('ËôïÁêÜÂ§±Êïó:', error);\n      setGlobalMessage(`‚ùå ÁôºÁîüÈåØË™§Ôºö${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: `1px solid ${COLOR_BORDER}`,\n      padding: '30px',\n      borderRadius: '10px',\n      backgroundColor: COLOR_OFF_WHITE,\n      maxWidth: '800px',\n      margin: '30px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: COLOR_DEEP_NAVY,\n        borderBottom: `2px solid ${COLOR_HIGHLIGHT_LINE}`,\n        paddingBottom: '15px',\n        marginBottom: '25px',\n        marginTop: '0',\n        fontWeight: '500'\n      },\n      children: [\"\\u767C\\u8868\\u65B0\\u8CBC\\u6587\\u5230 \\u3010\", boardName, \"\\u3011\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold',\n            color: COLOR_DEEP_NAVY\n          },\n          children: \"\\u6A19\\u984C\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          onChange: e => setTitle(e.target.value),\n          style: INPUT_STYLE,\n          placeholder: \"\\u8ACB\\u8F38\\u5165\\u8CBC\\u6587\\u6A19\\u984C\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px',\n          padding: '15px',\n          border: `1px dashed ${COLOR_BORDER}`,\n          borderRadius: '6px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold',\n            color: COLOR_DEEP_NAVY\n          },\n          children: \"\\u4E0A\\u50B3\\u5716\\u7247 (\\u53EF\\u591A\\u9078)\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          multiple: true,\n          onChange: handleImageChange,\n          style: {\n            marginBottom: '10px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '15px',\n            marginTop: '15px'\n          },\n          children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '120px',\n              border: `1px solid ${COLOR_BORDER}`,\n              borderRadius: '6px',\n              overflow: 'hidden',\n              backgroundColor: '#fff'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image.url,\n              alt: \"preview\",\n              style: {\n                width: '100%',\n                height: '100px',\n                objectFit: 'contain'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '5px',\n                display: 'flex',\n                gap: '5px',\n                justifyContent: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleRemoveBackground(image),\n                style: {\n                  fontSize: '12px',\n                  padding: '3px 8px',\n                  cursor: 'pointer',\n                  border: 'none',\n                  borderRadius: '4px',\n                  backgroundColor: image.isProcessed ? COLOR_MORANDI_BROWN : COLOR_OLIVE_GREEN,\n                  color: 'white'\n                },\n                disabled: image.isProcessing,\n                children: image.isProcessing ? '...' : image.isProcessed ? 'Â∑≤ÂéªËÉå' : 'ÂéªËÉå'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => handleRemoveImage(image.id),\n                style: {\n                  fontSize: '12px',\n                  padding: '3px 8px',\n                  cursor: 'pointer',\n                  border: 'none',\n                  borderRadius: '4px',\n                  backgroundColor: COLOR_SECONDARY_TEXT,\n                  color: 'white'\n                },\n                children: \"\\u522A\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 33\n            }, this)]\n          }, image.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), imageMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: imageMessage.startsWith('‚ùå') ? COLOR_BRICK_RED : COLOR_OLIVE_GREEN,\n            fontSize: 'small',\n            marginTop: '15px'\n          },\n          children: imageMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '8px',\n            fontWeight: 'bold',\n            color: COLOR_DEEP_NAVY\n          },\n          children: \"\\u5167\\u5BB9\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: content,\n          onChange: e => setContent(e.target.value),\n          style: {\n            ...INPUT_STYLE,\n            height: '200px',\n            resize: 'vertical'\n          },\n          placeholder: \"\\u8ACB\\u8A73\\u7D30\\u63CF\\u8FF0\\u60A8\\u7684\\u8CBC\\u6587\\u5167\\u5BB9...\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            paddingRight: '20px'\n          },\n          children: globalMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: globalMessage.startsWith('‚ùå') ? COLOR_BRICK_RED : COLOR_OLIVE_GREEN,\n              fontSize: '14px',\n              margin: 0,\n              fontWeight: 'bold',\n              whiteSpace: 'pre-wrap',\n              lineHeight: '1.4'\n            },\n            children: globalMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '15px',\n            flexShrink: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            style: {\n              ...BUTTON_PRIMARY_STYLE,\n              backgroundColor: COLOR_OFF_WHITE,\n              color: COLOR_DEEP_NAVY\n            },\n            onMouseOver: e => e.currentTarget.style.backgroundColor = COLOR_BORDER,\n            onMouseOut: e => e.currentTarget.style.backgroundColor = COLOR_OFF_WHITE,\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: BUTTON_PRIMARY_STYLE,\n            onMouseOver: e => e.currentTarget.style.backgroundColor = COLOR_MORANDI_BROWN,\n            onMouseOut: e => e.currentTarget.style.backgroundColor = COLOR_BRICK_RED,\n            children: \"\\u9001\\u51FA\\u8CBC\\u6587\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 9\n  }, this);\n};\n_s(PostForm, \"iYyeWpGtNQQJwRlURgFp+zmFAPc=\");\n_c = PostForm;\nexport default PostForm;\nvar _c;\n$RefreshReg$(_c, \"PostForm\");","map":{"version":3,"names":["React","useState","useCallback","jsxDEV","_jsxDEV","REMOVE_BG_API_KEY","REMOVE_BG_API_URL","MODERATION_API_URL","COLOR_DEEP_NAVY","COLOR_OLIVE_GREEN","COLOR_MORANDI_BROWN","COLOR_BRICK_RED","COLOR_SECONDARY_TEXT","COLOR_BORDER","COLOR_OFF_WHITE","COLOR_HIGHLIGHT_LINE","INPUT_STYLE","width","padding","boxSizing","border","borderRadius","outline","transition","BUTTON_PRIMARY_STYLE","backgroundColor","color","cursor","fontWeight","whiteSpace","removeBgFromFile","file","formData","FormData","append","response","fetch","method","headers","body","ok","_errorData$errors","_errorData$errors$","errorData","json","catch","Error","errors","title","status","blob","URL","createObjectURL","blobUrlToBase64","blobUrl","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","PostForm","boardName","onSubmit","onCancel","_s","setTitle","content","setContent","images","setImages","globalMessage","setGlobalMessage","imageMessage","setImageMessage","handleImageChange","e","files","Array","from","target","length","newImages","map","id","Date","now","Math","random","url","isProcessing","isProcessed","prev","value","handleRemoveBackground","targetImage","img","resultUrl","error","console","message","handleRemoveImage","targetId","filter","handleSubmit","preventDefault","trim","base64Images","all","style","maxWidth","margin","children","borderBottom","paddingBottom","marginBottom","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","display","type","onChange","placeholder","required","accept","multiple","flexWrap","gap","image","index","overflow","src","alt","height","objectFit","justifyContent","onClick","fontSize","disabled","startsWith","resize","alignItems","flex","paddingRight","lineHeight","flexShrink","onMouseOver","currentTarget","onMouseOut","_c","$RefreshReg$"],"sources":["/Users/xueyulan/Desktop/IntroduceToTheInternet_FinalProject/src/components/PostForm.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\n\n// ------------------------------------\n// API & ÈÖçËâ≤ÂÆöÁæ©\n// ------------------------------------\nconst REMOVE_BG_API_KEY = \"soM57AtY8CuHm8VhkYTyXxBP\"; \nconst REMOVE_BG_API_URL = \"https://api.remove.bg/v1.0/removebg\";\n\n// ÂæåÁ´Ø API Âú∞ÂùÄ\nconst MODERATION_API_URL = \"http://localhost:3001/moderation\";\n\nconst COLOR_DEEP_NAVY = '#1e2a38';     \nconst COLOR_OLIVE_GREEN = '#454f3b';   \nconst COLOR_MORANDI_BROWN = '#a38c6b'; \nconst COLOR_BRICK_RED = '#c9362a';     \nconst COLOR_SECONDARY_TEXT = '#666666'; \nconst COLOR_BORDER = '#dddddd';\nconst COLOR_OFF_WHITE = '#f3f3e6';     \nconst COLOR_HIGHLIGHT_LINE = COLOR_MORANDI_BROWN; \n\n// Ê®£ÂºèÂÆöÁæ©\nconst INPUT_STYLE = { \n    width: '100%', \n    padding: '12px', \n    boxSizing: 'border-box', \n    border: `1px solid ${COLOR_BORDER}`, \n    borderRadius: '6px', \n    outline: 'none',\n    transition: 'border-color 0.3s'\n};\nconst BUTTON_PRIMARY_STYLE = { \n    padding: '10px 25px', \n    backgroundColor: COLOR_BRICK_RED, \n    color: 'white', \n    border: 'none', \n    borderRadius: '6px', \n    cursor: 'pointer', \n    fontWeight: 'bold',\n    transition: 'background-color 0.3s',\n    whiteSpace: 'nowrap' // Èò≤Ê≠¢ÊåâÈàïÊñáÂ≠óÊèõË°å\n};\n\n// ------------------------------------\n// ËºîÂä©ÂáΩÂºèÂçÄ\n// ------------------------------------\nconst removeBgFromFile = async (file) => {\n    const formData = new FormData();\n    formData.append('image_file', file);\n    formData.append('size', 'auto');\n    \n    const response = await fetch(REMOVE_BG_API_URL, {\n        method: 'POST',\n        headers: { 'X-Api-Key': REMOVE_BG_API_KEY },\n        body: formData\n    });\n\n    if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.errors?.[0]?.title || `HTTP ${response.status}`);\n    }\n\n    const blob = await response.blob();\n    return URL.createObjectURL(blob);\n};\n\nconst blobUrlToBase64 = async (blobUrl) => {\n    const response = await fetch(blobUrl);\n    const blob = await response.blob();\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => resolve(reader.result);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n};\n\nconst PostForm = ({ boardName, onSubmit, onCancel }) => {\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const [images, setImages] = useState([]); \n    \n    // ÊãÜÂàÜË®äÊÅØÁãÄÊÖã\n    const [globalMessage, setGlobalMessage] = useState(''); // Áî®ÊñºÂ∫ïÈÉ® (ÂØ©Êü•ÁµêÊûú)\n    const [imageMessage, setImageMessage] = useState('');   // Áî®ÊñºÂúñÁâáÂçÄ (ÂéªËÉåÁãÄÊÖã)\n\n    // ------------------------------------\n    // ÂúñÁâáËôïÁêÜ\n    // ------------------------------------\n    const handleImageChange = (e) => {\n        const files = Array.from(e.target.files);\n        if (files.length > 0) {\n            const newImages = files.map(file => ({\n                id: Date.now() + Math.random(),\n                file: file,\n                url: URL.createObjectURL(file),\n                isProcessing: false,\n                isProcessed: false,\n            }));\n            setImages(prev => [...prev, ...newImages]); \n            setImageMessage(''); // Ê∏ÖÈô§‰πãÂâçÁöÑÂúñÁâáË®äÊÅØ\n            e.target.value = null; \n        }\n    };\n\n    const handleRemoveBackground = useCallback(async (targetImage) => {\n        setImages(prev => prev.map(img => \n            img.id === targetImage.id ? { ...img, isProcessing: true } : img\n        ));\n        // ‰ΩøÁî® imageMessage È°ØÁ§∫ÁãÄÊÖã\n        setImageMessage('‚ÑπÔ∏è Ê≠£Âú®ËôïÁêÜÂúñÁâáÂéªËÉå...');\n\n        try {\n            const resultUrl = await removeBgFromFile(targetImage.file);\n            setImages(prev => prev.map(img => \n                img.id === targetImage.id \n                    ? { ...img, url: resultUrl, isProcessing: false, isProcessed: true } \n                    : img\n            ));\n            setImageMessage('‚úÖ ÂúñÁâáÂéªËÉåÊàêÂäüÔºÅ');\n        } catch (error) {\n            console.error('ÂéªËÉåÂ§±Êïó:', error);\n            setImageMessage(`‚ùå ÂéªËÉåÂ§±ÊïóÔºö${error.message}`);\n            setImages(prev => prev.map(img => \n                img.id === targetImage.id ? { ...img, isProcessing: false } : img\n            ));\n        }\n    }, []); \n\n    const handleRemoveImage = (targetId) => {\n        setImages(prev => prev.filter(img => img.id !== targetId));\n    };\n\n    // ------------------------------------\n    // ÈÄÅÂá∫ËôïÁêÜ (üî• Êö´ÊôÇÂÅúÁî® AI ÂØ©Êü•ÔºåÂÖàÊ∏¨Ë©¶ Firestore)\n    // ------------------------------------\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        if (!title.trim() || !content.trim()) {\n            setGlobalMessage('‚ö†Ô∏è Ê®ôÈ°åÂíåÂÖßÂÆπÈÉΩ‰∏çËÉΩÁÇ∫Á©∫ÔºÅ');\n            return;\n        }\n\n        // üî• Êö´ÊôÇË®ªËß£ÊéâÂØ©Êü•ÂäüËÉΩÔºåÂÖàËÆì Firestore Êï¥ÂêàË∑ëËµ∑‰æÜ\n        // setGlobalMessage('ü§ñ Ê≠£Âú®ÈÄ≤Ë°å AI ÂÖßÂÆπÂØ©Êü•...');\n\n        try {\n            // ‚ö†Ô∏è ‰ª•‰∏ãÂØ©Êü•ÂäüËÉΩÊö´ÊôÇÂÅúÁî®\n            /*\n            // 1. ÂëºÂè´ÂæåÁ´Ø Moderation API\n            const textCheckResponse = await fetch(MODERATION_API_URL, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ content: `${title}\\n${content}` })\n            });\n\n            if (!textCheckResponse.ok) {\n                throw new Error('ÁÑ°Ê≥ïÈÄ£Êé•Âà∞ÂØ©Êü•‰º∫ÊúçÂô®');\n            }\n\n            const checkResult = await textCheckResponse.json();\n\n            // 2. Âà§Êñ∑ÂØ©Êü•ÁµêÊûú\n            if (checkResult.flagged) {\n                const reasons = Object.keys(checkResult.categories)\n                    .filter(key => checkResult.categories[key])\n                    .join(', ');\n\n                setGlobalMessage(`‚ùå ÂÖßÂÆπÂåÖÂê´ÊïèÊÑüË©ûÂΩôÔºåÁÑ°Ê≥ïÁôºÂ∏É„ÄÇ\\n(ÂÅµÊ∏¨ÂéüÂõ†: ${reasons})`);\n                return; // ‚õîÔ∏è Êìã‰Ωè\n            }\n            */\n\n            // üî• Áõ¥Êé•ËôïÁêÜÂúñÁâá‰∏¶ÈÄÅÂá∫ÔºàË∑≥ÈÅéÂØ©Êü•Ôºâ\n            setGlobalMessage('‚úÖ Ê≠£Âú®ÁôºÂ∏ÉË≤ºÊñá...');\n            const base64Images = await Promise.all(\n                images.map(img => blobUrlToBase64(img.url))\n            );\n\n            onSubmit(title, content, base64Images);\n\n            // ÈáçÁΩÆ\n            setTitle('');\n            setContent('');\n            setImages([]);\n            setGlobalMessage('');\n            setImageMessage('');\n\n        } catch (error) {\n            console.error('ËôïÁêÜÂ§±Êïó:', error);\n            setGlobalMessage(`‚ùå ÁôºÁîüÈåØË™§Ôºö${error.message}`);\n        }\n    };\n\n    return (\n        <div style={{ border: `1px solid ${COLOR_BORDER}`, padding: '30px', borderRadius: '10px', backgroundColor: COLOR_OFF_WHITE, maxWidth: '800px', margin: '30px auto' }}>\n            <h2 style={{ color: COLOR_DEEP_NAVY, borderBottom: `2px solid ${COLOR_HIGHLIGHT_LINE}`, paddingBottom: '15px', marginBottom: '25px', marginTop: '0', fontWeight: '500' }}>\n                ÁôºË°®Êñ∞Ë≤ºÊñáÂà∞ „Äê{boardName}„Äë\n            </h2>\n            <form onSubmit={handleSubmit}>\n                {/* Ê®ôÈ°å */}\n                <div style={{ marginBottom: '20px' }}>\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold', color: COLOR_DEEP_NAVY }}>Ê®ôÈ°åÔºö</label>\n                    <input\n                        type=\"text\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                        style={INPUT_STYLE}\n                        placeholder=\"Ë´ãËº∏ÂÖ•Ë≤ºÊñáÊ®ôÈ°å\"\n                        required\n                    />\n                </div>\n\n                {/* ÂúñÁâá‰∏äÂÇ≥ */}\n                <div style={{ marginBottom: '20px', padding: '15px', border: `1px dashed ${COLOR_BORDER}`, borderRadius: '6px' }}>\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold', color: COLOR_DEEP_NAVY }}>‰∏äÂÇ≥ÂúñÁâá (ÂèØÂ§öÈÅ∏)Ôºö</label>\n                    <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        multiple \n                        onChange={handleImageChange}\n                        style={{ marginBottom: '10px' }}\n                    />\n                    \n                    <div style={{ display: 'flex', flexWrap: 'wrap', gap: '15px', marginTop: '15px' }}>\n                        {images.map((image, index) => (\n                            <div key={image.id} style={{ width: '120px', border: `1px solid ${COLOR_BORDER}`, borderRadius: '6px', overflow: 'hidden', backgroundColor: '#fff' }}>\n                                <img src={image.url} alt=\"preview\" style={{ width: '100%', height: '100px', objectFit: 'contain' }} />\n                                <div style={{ padding: '5px', display: 'flex', gap: '5px', justifyContent: 'center' }}>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => handleRemoveBackground(image)}\n                                        style={{ fontSize: '12px', padding: '3px 8px', cursor: 'pointer', border: 'none', borderRadius: '4px', backgroundColor: image.isProcessed ? COLOR_MORANDI_BROWN : COLOR_OLIVE_GREEN, color: 'white' }}\n                                        disabled={image.isProcessing}\n                                    >\n                                        {image.isProcessing ? '...' : (image.isProcessed ? 'Â∑≤ÂéªËÉå' : 'ÂéªËÉå')}\n                                    </button>\n                                    <button\n                                        type=\"button\"\n                                        onClick={() => handleRemoveImage(image.id)}\n                                        style={{ fontSize: '12px', padding: '3px 8px', cursor: 'pointer', border: 'none', borderRadius: '4px', backgroundColor: COLOR_SECONDARY_TEXT, color: 'white' }}\n                                    >\n                                        Âà™Èô§\n                                    </button>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n\n                    {/* ÈÄôË£°È°ØÁ§∫ imageMessage (ÂúñÁâáÂéªËÉåÁõ∏ÈóúË®äÊÅØ) */}\n                    {imageMessage && (\n                        <p style={{ \n                            color: imageMessage.startsWith('‚ùå') ? COLOR_BRICK_RED : COLOR_OLIVE_GREEN, \n                            fontSize: 'small', \n                            marginTop: '15px' \n                        }}>\n                            {imageMessage}\n                        </p>\n                    )}\n                </div>\n\n                {/* ÂÖßÂÆπ */}\n                <div style={{ marginBottom: '30px' }}>\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold', color: COLOR_DEEP_NAVY }}>ÂÖßÂÆπÔºö</label>\n                    <textarea\n                        value={content}\n                        onChange={(e) => setContent(e.target.value)}\n                        style={{ ...INPUT_STYLE, height: '200px', resize: 'vertical' }}\n                        placeholder=\"Ë´ãË©≥Á¥∞ÊèèËø∞ÊÇ®ÁöÑË≤ºÊñáÂÖßÂÆπ...\"\n                        required\n                    />\n                </div>\n                \n                {/* Â∫ïÈÉ®ÂçÄÂüüÔºöÈ°ØÁ§∫ÂØ©Êü•Ë®äÊÅØËàáÊåâÈàï */}\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginTop: '20px' }}>\n                    \n                    {/* ÈÄôË£°È°ØÁ§∫ globalMessage (ÂØ©Êü•ËàáÁôºÂ∏ÉÁõ∏ÈóúË®äÊÅØ) */}\n                    <div style={{ flex: 1, paddingRight: '20px' }}>\n                        {globalMessage && (\n                            <p style={{ \n                                color: globalMessage.startsWith('‚ùå') ? COLOR_BRICK_RED : COLOR_OLIVE_GREEN, \n                                fontSize: '14px', \n                                margin: 0,\n                                fontWeight: 'bold',\n                                whiteSpace: 'pre-wrap', \n                                lineHeight: '1.4'\n                            }}>\n                                {globalMessage}\n                            </p>\n                        )}\n                    </div>\n\n                    {/* ÊåâÈàïÂçÄ */}\n                    <div style={{ display: 'flex', gap: '15px', flexShrink: 0 }}>\n                        <button \n                            type=\"button\" \n                            onClick={onCancel} \n                            style={{...BUTTON_PRIMARY_STYLE, backgroundColor: COLOR_OFF_WHITE, color: COLOR_DEEP_NAVY}} \n                            onMouseOver={e => e.currentTarget.style.backgroundColor = COLOR_BORDER} \n                            onMouseOut={e => e.currentTarget.style.backgroundColor = COLOR_OFF_WHITE}\n                        >\n                            ÂèñÊ∂à\n                        </button>\n                        <button \n                            type=\"submit\" \n                            style={BUTTON_PRIMARY_STYLE}\n                            onMouseOver={e => e.currentTarget.style.backgroundColor = COLOR_MORANDI_BROWN} \n                            onMouseOut={e => e.currentTarget.style.backgroundColor = COLOR_BRICK_RED}\n                        >\n                            ÈÄÅÂá∫Ë≤ºÊñá\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default PostForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}